## What is a Docker image?
A Docker image serves as the foundation for executing code within a Docker container. It encapsulates all necessary dependencies and configurations within a single file. The file extension for a Docker image is .Dockerfile.

## What is a Docker container?
A container provides a segregated environment for your code, facilitating the execution of images.

## Docker commands
### Containers
    //Creating and running an container
    $ docker run <image_name>

    //Display all containers which is in a running state
    $ docker ps

    //Display all containers
    $ docker ps -a or docker ps --all

    //Delete an container
    $ docker rm <container_name or container_id>

    //Remove all stopped containers once
    $ docker system prune

    //Retrieve logs from a container
    $ docker logs <container_id>

    //Stop docker container
    $ docker stop <container_id> or docker kill <container_id>

    //Runs a new command in a running container
    $ docker exec -it <container_id> <command>

    //Get logs from a running container
    $ docker attach <container_id>

    //Mount system file with container file system
    $ docker run -v <system_file_path>:<container_file_path> <image_name>

****docker run** command is a combination of **docker create** and **docker start**.
1. **docker create <image_name>**
2. **docker start <container_id>** OR **docker start -a <container_id>**

For monitoring the container's output in the terminal, use **"-a"** flag.

For restarting a stopped container use docker start commands.

Run **docker exec -it <container_id> sh** to enter into container's terminal.

**When building an image from a file with a name other than Dockerfile, the "-f" flag must be included in the build command.

**$ docker build -f Dockerfile.dev .**

***Docker Volumes are the preferred mechanism for persisting data generated by and used by Docker containers.**
### Images
    //Display all local images
    $ docker images

    //Delete an image
    $ docker rmi <image_name or image_id>

    //Tagging an images
    **Tag name by convention: <docker_hub_name/project_name:version>
    $ docker build -t <image_name> .

    //Port mapping
    $ docker run -p <route_incoming_req_to_this_port>:<container_port> <image_id>

### Docker Compose
    //Run all services define in docker-compose.yml
    $ docker-compose up

    //Re-build images and restart services
    $ docker-compose up --build

    //Stopping docker compose
    $ docker-compose down

    //List status of all container define in docker-compose.yml
    $ docker-compose ps

****Automatically restart containers**
There are 4 restart policies available:
- "no": Never attempt to restart the container If it stops or crashes.
- always: If container stop for any reason always attempt to restart.
- on-failure: Only restart if container stops with an error code.
- unless-stopped: Always restart unless forcibly stop.
## Resources
- [how-to-install-docker-on-ubuntu](https://docs.docker.com/engine/install/ubuntu/#install-using-the-repository)

- [how-to-uninstall-docker-on-ubuntu](https://docs.docker.com/engine/install/ubuntu/#uninstall-docker-engine)

- [Manage Docker as a non-root user](https://docs.docker.com/engine/install/linux-postinstall/)

- [markdown-cheat-sheet](https://www.markdownguide.org/cheat-sheet/)

